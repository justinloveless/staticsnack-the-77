(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const S="modulepreload",$=function(t){return"/StaticSnack-template-band/"+t},x={},P=function(e,s,i){let n=Promise.resolve();if(s&&s.length>0){let w=function(l){return Promise.all(l.map(o=>Promise.resolve(o).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};var m=w;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");n=w(s.map(l=>{if(l=$(l),l in x)return;x[l]=!0;const o=l.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":S,o||(r.as="script"),r.crossOrigin="",r.href=l,f&&r.setAttribute("nonce",f),document.head.appendChild(r),o)return new Promise((g,E)=>{r.addEventListener("load",g),r.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return n.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})};let p=null,h={};const j="/StaticSnack-template-band/";function d(t){if(t.startsWith(j))return t;const e=t.startsWith("/")?t.slice(1):t;return(j.endsWith("/")?j:j+"/")+e}async function v(t="site-assets.json",e){let s="site-assets.json",i=e;typeof t=="function"?i=t:t&&(s=t);try{return p=await(await fetch(d(s))).json(),await A(),await _(i),{siteAssets:p,contentData:h}}catch(n){throw console.error("Error loading site assets:",n),n}}async function A(){if(!(!p||!p.assets))for(const t of p.assets){if(t.type==="directory"){t.contains&&t.contains.type==="combo"?h[t.path]=await L(t):t.contains?h[t.path]=await O(t):h[t.path]=t.path;continue}if(t.type==="image"){h[t.path]=d(t.path);continue}try{const e=await fetch(d(t.path));if(!e.ok)continue;if(t.type==="json"||t.path.endsWith(".json"))h[t.path]=await e.json();else if(t.type==="text"&&t.path.endsWith(".md")){const s=await e.text();h[t.path]=s}}catch(e){console.warn(`Failed to load ${t.path}:`,e)}}}async function L(t){const e={},s=t.path,i={};t.contains.parts.forEach(o=>{o.allowedExtensions.forEach(c=>{i[c]=o.assetType})});const n=await fetch(d(s));if(!n.ok)return console.warn(`Could not access directory: ${s}`),e;const a=await n.text(),f=new DOMParser().parseFromString(a,"text/html").querySelectorAll("a"),w=[];f.forEach(o=>{const c=o.getAttribute("href");if(c&&!c.startsWith("..")&&!c.endsWith("/")){const r=c.split("/").pop(),g=r.substring(r.lastIndexOf("."));i[g]&&w.push(r)}});const l={};w.forEach(o=>{const c=o.substring(o.lastIndexOf(".")),r=o.substring(0,o.lastIndexOf("."));l[r]||(l[r]={}),l[r][c]=o});for(const[o,c]of Object.entries(l)){e[o]={};for(const[r,g]of Object.entries(c)){const E=i[r],b=`${s}/${g}`;try{if(E==="image")e[o][r]=d(b);else if(E==="json"){const y=await fetch(d(b));y.ok&&(e[o][r]=await y.json())}else if(E==="text"){const y=await fetch(d(b));y.ok&&(e[o][r]=await y.text())}}catch(y){console.warn(`Failed to load ${b}:`,y)}}}return e}async function O(t){const e=[],s=t.path;try{const i=await fetch(d(`${s}/manifest.json`));if(i.ok){const n=await i.json();if(n.files&&Array.isArray(n.files))return n.files.forEach(a=>{const m=a.substring(a.lastIndexOf("."));t.contains.allowedExtensions.includes(m)&&e.push(d(`${s}/${a}`))}),e}else console.warn(`No manifest.json found at ${s}/manifest.json`)}catch(i){console.error(`Failed to load manifest from ${s}/manifest.json:`,i)}return e}async function _(t){if(!p||!p.assets){t&&t();return}for(const e of p.assets)if(e.handler)try{const s=e.handler.endsWith(".js")?e.handler:`${e.handler}.js`,i=await P(()=>import(`./${s}`),[]);if(typeof i.handle=="function"){const n=h[e.path];i.handle(n,e.path)}else console.warn(`Handler ${e.handler} does not export a handle function`)}catch(s){console.error(`Failed to load handler ${e.handler}:`,s)}t&&t()}document.addEventListener("DOMContentLoaded",async function(){try{console.log("Loading site assets..."),await v(async()=>{console.log("All assets and handlers loaded successfully!");try{const t=await P(()=>import("./contact.js"),[]);typeof t.handle=="function"&&t.handle()}catch(t){console.warn("Failed to load contact handler:",t)}})}catch(t){console.error("Error initializing site:",t)}});
